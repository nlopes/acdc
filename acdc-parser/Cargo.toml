[package]
name = "acdc-parser"
description = "`AsciiDoc` parser using PEG grammars"
version.workspace = true
edition.workspace = true
authors.workspace = true

[dependencies]
acdc-core.workspace = true
encoding_rs = "0.8"
evalexpr = "13"
peg = "0.8"
rustc-hash.workspace = true
ureq = "3.1"
serde.workspace = true
serde_json.workspace = true
tracing.workspace = true
thiserror.workspace = true
url = "2.5"

[dev-dependencies]
criterion = { version = "0.8", features = ["html_reports"] }
pretty_assertions.workspace = true
proptest = "1.9"
rstest.workspace = true
tracing-test.workspace = true

[[bench]]
name = "parser_bench"
harness = false

[lints.rust]
unsafe_code = "forbid"

[lints.clippy]
# Defensive programming
wildcard_enum_match_arm = "deny"
indexing_slicing = "deny"
fallible_impl_from = "deny"
unwrap_used = "deny"
expect_used = "deny"
panic = "deny"
pedantic = "deny"
unreachable = "deny"
todo = "deny"
unimplemented = "deny"
